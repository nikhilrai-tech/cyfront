(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{593:function(e,t,r){e.exports={}},640:function(e,t,r){"use strict";r(593)},677:function(e,t,r){"use strict";r.r(t);var n=r(111),o=r(101),c=r(81),l=r(541),d=r(353),h=r(561),v=r(672),_=r(110),f=r(236),m=r(352),k=(r(14),r(68),r(36),r(29)),C=(r(91),r(18),r(72),r(7),r(155)),x=r.n(C),w={name:"CTF",data:function(){return{activeChallenges:[],upcomingChallenges:[],leaderboardHeaders:[{text:"Rank",value:"rank"},{text:"Name",value:"name"},{text:"Points",value:"points"},{text:"Challenges Solved",value:"challenges_solved"}],leaderboard:[],userStats:{username:"",points:0,challenges_solved:0}}},mounted:function(){this.fetchChallenges(),this.fetchLeaderboard(),this.fetchUserStats()},methods:{fetchChallenges:function(){var e=this;return Object(k.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.get("https://cyback.onrender.com/api/challenges/");case 3:r=t.sent,n=new Date,e.activeChallenges=r.data.filter((function(e){return e.active&&new Date(e.end_date)>n})),e.upcomingChallenges=r.data.filter((function(e){return new Date(e.start_date)>n})),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error("Error fetching challenges:",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},fetchLeaderboard:function(){var e=this;return Object(k.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.get("https://cyback.onrender.com/api/leaderboard/");case 3:r=t.sent,e.leaderboard=r.data.map((function(e,t){return{rank:t+1,name:e.username,points:e.points,challenges_solved:e.challenges_solved}})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error("Error fetching leaderboard:",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},fetchUserStats:function(){var e=this;return Object(k.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=localStorage.getItem("token")){t.next=6;break}return alert("You need to log in to view your stats."),e.$router.push("/login"),t.abrupt("return");case 6:return t.prev=6,t.next=9,x.a.get("https://cyback.onrender.com/api/user/stats/",{headers:{Authorization:"Bearer ".concat(r)}});case 9:n=t.sent,e.userStats=n.data,t.next=16;break;case 13:t.prev=13,t.t0=t.catch(6),console.error("Error fetching user stats:",t.t0);case 16:case"end":return t.stop()}}),t,null,[[6,13]])})))()},joinChallenge:function(e){var t=this;return Object(k.a)(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=localStorage.getItem("token")){r.next=5;break}return alert("You need to log in to join a challenge."),t.$router.push("/login"),r.abrupt("return");case 5:return r.prev=5,r.next=8,x.a.post("https://cyback.onrender.com/api/challenge/".concat(e,"/join/"),{},{headers:{Authorization:"Bearer ".concat(n)}});case 8:o=r.sent,alert(o.data.message),t.$router.push({name:"ChallengeQuestions",params:{challengeId:e}}),r.next=17;break;case 13:r.prev=13,r.t0=r.catch(5),console.error("Error joining challenge:",r.t0),alert("Failed to join challenge. Please check your authentication.");case 17:case"end":return r.stop()}}),r,null,[[5,13]])})))()}}},S=(r(640),r(162)),component=Object(S.a)(w,(function(){var e=this,t=e._self._c;return t(h.a,{staticClass:"ctf-container",attrs:{fluid:""}},[t(m.a,{staticClass:"mb-4",attrs:{align:"center"}},[t(d.a,{attrs:{cols:"8"}},[t("h1",{staticClass:"d-flex align-center"},[t(_.a,{staticClass:"mr-2",attrs:{large:""}},[e._v("mdi-flag-checkered")]),e._v("\n        Capture The Flag\n      ")],1)])],1),e._v(" "),t(m.a,[t(d.a,{attrs:{md:"6",cols:"12"}},[t("h2",[e._v("Active Challenges")]),e._v(" "),e._l(e.activeChallenges,(function(r){return t(o.a,{key:r.id,staticClass:"mb-3 success-border",attrs:{hover:""}},[t(c.d,[e._v(e._s(r.name))]),e._v(" "),t(c.c,[t("p",[e._v(e._s(r.description))]),e._v(" "),t("h3",{staticClass:"subtitle-1"},[e._v("Rules:")]),e._v(" "),t("p",[e._v(e._s(r.rules))])]),e._v(" "),t(c.a,[t(n.a,{attrs:{color:"success"},on:{click:function(t){return e.joinChallenge(r.id)}}},[e._v("Join Challenge")])],1)],1)}))],2),e._v(" "),t(d.a,{attrs:{md:"6",cols:"12"}},[t("h2",[e._v("Upcoming Challenges")]),e._v(" "),e._l(e.upcomingChallenges,(function(r){return t(o.a,{key:r.id,staticClass:"mb-3 grey-border",attrs:{hover:""}},[t(c.d,[e._v(e._s(r.name))]),e._v(" "),t(c.c,[t("p",[e._v(e._s(r.description))]),e._v(" "),t(l.a,{attrs:{color:"info",small:""}},[e._v("Upcoming")])],1)],1)}))],2)],1),e._v(" "),t(m.a,[t(d.a,{attrs:{md:"6",cols:"12"}},[t(o.a,[t(c.d,[e._v("Leaderboard")]),e._v(" "),t(v.a,{staticClass:"elevation-0",attrs:{headers:e.leaderboardHeaders,items:e.leaderboard,"hide-default-footer":""}})],1)],1),e._v(" "),t(d.a,{attrs:{md:"6",cols:"12"}},[t(o.a,[t(c.d,[e._v("Your Stats")]),e._v(" "),t(c.c,[t("p",[t("strong",[e._v("Username:")]),e._v(" "+e._s(e.userStats.username))]),e._v(" "),t("p",[t("strong",[e._v("Challenges Solved:")]),e._v(" "+e._s(e.userStats.challenges_solved))]),e._v(" "),t("p",[t("strong",[e._v("Total Points:")]),e._v(" "+e._s(e.userStats.points))]),e._v(" "),t(f.a,{attrs:{value:Math.min(e.userStats.challenges_solved/10*100,100),color:"success",height:"20",rounded:""},scopedSlots:e._u([{key:"default",fn:function(){return[e._v("\n              "+e._s(e.userStats.challenges_solved)+"/10\n            ")]},proxy:!0}])})],1)],1)],1)],1)],1)}),[],!1,null,"e6b7cfba",null);t.default=component.exports}}]);