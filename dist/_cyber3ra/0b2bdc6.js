(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{596:function(e,t,r){e.exports={}},643:function(e,t,r){"use strict";r(596)},680:function(e,t,r){"use strict";r.r(t);var n=r(112),c=r(102),o=r(82),l=r(544),d=r(356),v=r(564),h=r(675),_=r(111),f=r(236),m=r(355),C=(r(14),r(69),r(32),r(29)),k=(r(91),r(18),r(73),r(7),r(155)),x=r.n(k),w={name:"CTF",data:function(){return{activeChallenges:[],upcomingChallenges:[],leaderboardHeaders:[{text:"Rank",value:"rank"},{text:"Name",value:"name"},{text:"Points",value:"points"},{text:"Challenges Solved",value:"challenges_solved"}],leaderboard:[],userStats:{username:"",points:0,challenges_solved:0}}},created:function(){this.fetchChallenges(),this.fetchLeaderboard(),this.fetchUserStats()},methods:{fetchChallenges:function(){var e=this;return Object(C.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.get("https://cyback.onrender.com/api/challenges/");case 3:r=t.sent,n=new Date,e.activeChallenges=r.data.filter((function(e){return e.active&&new Date(e.end_date)>n})),e.upcomingChallenges=r.data.filter((function(e){return new Date(e.start_date)>n})),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error("Error fetching challenges:",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},fetchLeaderboard:function(){var e=this;return Object(C.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.get("https://cyback.onrender.com/api/leaderboard/");case 3:r=t.sent,e.leaderboard=r.data.map((function(e,t){return{rank:t+1,name:e.username,points:e.points,challenges_solved:e.challenges_solved}})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error("Error fetching leaderboard:",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},fetchUserStats:function(){var e=this;return Object(C.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=localStorage.getItem("token"),t.prev=1,t.next=4,x.a.get("https://cyback.onrender.com/api/user/stats/",{headers:{Authorization:"Bearer ".concat(r)}});case 4:n=t.sent,e.userStats=n.data,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.error("Error fetching user stats:",t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()},joinChallenge:function(e){var t=this;return Object(C.a)(regeneratorRuntime.mark((function r(){var n,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n=localStorage.getItem("token"),r.next=4,x.a.post("https://cyback.onrender.com/api/challenge/".concat(e,"/join/"),{},{headers:{Authorization:"Bearer ".concat(n)}});case 4:c=r.sent,alert(c.data.message),t.$router.push({name:"ChallengeQuestions",params:{challengeId:e}}),r.next=13;break;case 9:r.prev=9,r.t0=r.catch(0),console.error("Error joining challenge:",r.t0),alert("Failed to join challenge. Please check your authentication.");case 13:case"end":return r.stop()}}),r,null,[[0,9]])})))()}}},S=(r(643),r(162)),component=Object(S.a)(w,(function(){var e=this,t=e._self._c;return t(v.a,{staticClass:"ctf-container",attrs:{fluid:""}},[t(m.a,{staticClass:"mb-4",attrs:{align:"center"}},[t(d.a,{attrs:{cols:"8"}},[t("h1",{staticClass:"d-flex align-center"},[t(_.a,{staticClass:"mr-2",attrs:{large:""}},[e._v("mdi-flag-checkered")]),e._v("\n        Capture The Flag\n      ")],1)])],1),e._v(" "),t(m.a,[t(d.a,{attrs:{md:"6",cols:"12"}},[t("h2",[e._v("Active Challenges")]),e._v(" "),e._l(e.activeChallenges,(function(r){return t(c.a,{key:r.id,staticClass:"mb-3 success-border",attrs:{hover:""}},[t(o.d,[e._v(e._s(r.name))]),e._v(" "),t(o.c,[t("p",[e._v(e._s(r.description))]),e._v(" "),t("h3",{staticClass:"subtitle-1"},[e._v("Rules:")]),e._v(" "),t("p",[e._v(e._s(r.rules))])]),e._v(" "),t(o.a,[t(n.a,{attrs:{color:"success"},on:{click:function(t){return e.joinChallenge(r.id)}}},[e._v("Join Challenge")])],1)],1)}))],2),e._v(" "),t(d.a,{attrs:{md:"6",cols:"12"}},[t("h2",[e._v("Upcoming Challenges")]),e._v(" "),e._l(e.upcomingChallenges,(function(r){return t(c.a,{key:r.id,staticClass:"mb-3 grey-border",attrs:{hover:""}},[t(o.d,[e._v(e._s(r.name))]),e._v(" "),t(o.c,[t("p",[e._v(e._s(r.description))]),e._v(" "),t(l.a,{attrs:{color:"info",small:""}},[e._v("Upcoming")])],1)],1)}))],2)],1),e._v(" "),t(m.a,[t(d.a,{attrs:{md:"6",cols:"12"}},[t(c.a,[t(o.d,[e._v("Leaderboard")]),e._v(" "),t(h.a,{staticClass:"elevation-0",attrs:{headers:e.leaderboardHeaders,items:e.leaderboard,"hide-default-footer":""}})],1)],1),e._v(" "),t(d.a,{attrs:{md:"6",cols:"12"}},[t(c.a,[t(o.d,[e._v("Your Stats")]),e._v(" "),t(o.c,[t("p",[t("strong",[e._v("Username:")]),e._v(" "+e._s(e.userStats.username))]),e._v(" "),t("p",[t("strong",[e._v("Challenges Solved:")]),e._v(" "+e._s(e.userStats.challenges_solved))]),e._v(" "),t("p",[t("strong",[e._v("Total Points:")]),e._v(" "+e._s(e.userStats.points))]),e._v(" "),t(f.a,{attrs:{value:e.userStats.challenges_solved/10*100,color:"success",height:"20",rounded:""},scopedSlots:e._u([{key:"default",fn:function(){return[e._v("\n              "+e._s(e.userStats.challenges_solved)+"/10\n            ")]},proxy:!0}])})],1)],1)],1)],1)],1)}),[],!1,null,"10a2732c",null);t.default=component.exports}}]);