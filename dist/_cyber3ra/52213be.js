(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{506:function(t,e,n){t.exports={}},511:function(t,e,n){"use strict";n(506)},512:function(t,e,n){"use strict";n.r(e);var r=n(526),o=(n(30),n(203),n(63),n(251),{name:"MarkdownComponent",props:{text:{type:String,default:""}},data:function(){return{descouts:this.text.split(/\r?\n/)}},watch:{text:function(t){this.descouts=t.split(/\r?\n/)}},methods:{getlink:function(t){}}}),c=(n(511),n(162)),component=Object(c.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"py-3"},t._l(t.descouts,(function(n,o){return e("div",{key:o,class:"string string-".concat(o)},["#"==n.charAt(0)?e("div",[e("h1",{staticClass:"mb-3"},[n.match(/\[/)?e("div",t._l(n.split(/(?=\[)|\]/g),(function(n,r){return e("span",{key:r},["["===n.charAt(0)?e("a",{attrs:{target:"_blank",href:n.replace("[","").split(",")[0]}},[t._v("\n                            "+t._s(n.replace("[","").split(",")[1])+"\n                        ")]):e("span",[t._v(t._s(n.replace(/\r?#/g,"")))])])})),0):e("div",[t._v("\n                    "+t._s(n.replace(/\r?#/g,""))+"\n                ")])])]):"_"==n.charAt(0)||"-"==n.charAt(0)?e("div",[e(r.a)],1):"("===n.charAt(0)?e("img",{attrs:{src:n.replace("(","").replace(")","").split("^")[0],alt:n.replace("(","").replace(")","").split("^")[1]||"Image",width:"150"}}):e("div",[n.match(/\[/)?e("div",t._l(n.split(/(?=\[)|\]/g),(function(n,r){return e("span",{key:r},["["===n.charAt(0)?e("a",{attrs:{target:"_blank",href:n.replace("[","").split(",")[0]}},[t._v("\n                        "+t._s(n.replace("[","").split(",")[1])+"\n                    ")]):e("span",[t._v(t._s(n))])])})),0):e("div",[t._v("\n                "+t._s(n)+"\n            ")])])])})),0)}),[],!1,null,null,null);e.default=component.exports},598:function(t,e,n){t.exports={}},599:function(t,e,n){t.exports={}},646:function(t,e,n){"use strict";n(598)},647:function(t,e,n){"use strict";n(599)},668:function(t,e,n){"use strict";n.r(e);var r=n(578),o=n(112),c=n(102),l=n(82),d=n(544),v=n(249),m=n(526),_=n(111),h=n(234),f=n(593),k=n(575),y=n(502),w=n(534),x=n(250),C=n(164),$=n(540),R=n(567),S=n(568),A=(n(14),n(69),n(32),n(29)),D=(n(91),{name:"ReportPreviewComponent",components:{Markdown:n(512).default},props:{title:{type:String,default:""},rloaded:{type:Boolean,default:!1}},data:function(){return{report:{},timeline:[],weaknesses:n(527).weaknesses,theme:!1,bottom:!0,loading:!1,prev:!1,comment:{body:""},weakness:"",classes:{Critical:"red darken-4",High:"error",Medium:"warning",Low:"success",None:"info",0:"red darken-4",1:"error",2:"warning",3:"success"},disablestatus:!1,disabledisclosure:!1,thanks:{thanks:1,description:""},thanksopen:!1,bounty:{amount:1e3,range:[2500,15e3,1e3,500],description:""},bountyopen:!1}},fetch:function(){var t=this;return Object(A.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.get("/app/main/report/"+t.title+"/");case 3:n=e.sent,t.report=n.data.report,t.bounty.amount=n.data.report.amount.actual,t.bounty.range=n.data.report.amount.range,t.timeline=n.data.timeline,t.weakness=t.weaknesses[n.data.report.weakness].name,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()},watch:{text:function(t){},title:function(t){this.$fetch()}},mounted:function(){this.theme=this.$vuetify.theme.dark},methods:{getlink:function(t){},scrollToEnd:function(){var t=this.$el.querySelector("#report-main");this.bottom?(t.scrollTo({top:t.scrollHeight,behavior:"smooth"}),this.bottom=!1):(t.scrollTo({top:0,behavior:"smooth"}),this.bottom=!0)},addcomment:function(){var t=this;return Object(A.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,t.$axios.post("/app/main/addcomment/"+t.title+"/1",t.comment);case 4:(n=e.sent).data.error||(t.comment={body:""},t.loading=!1,t.report=n.data.report,t.timeline=n.data.timeline,t.weakness=t.weaknesses[n.data.report.weakness].name),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),t.loading=!1;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))()},request:function(t){var e=this;return Object(A.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.loading=!0,n.prev=1,n.next=4,e.$axios.post("/app/main/addcomment/"+e.title+"/"+t,e.comment);case 4:(r=n.sent).data.error||(e.loading=!1,e.report=r.data.report,e.timeline=r.data.timeline,e.weakness=e.weaknesses[r.data.report.weakness].name,e.disablestatus="3"===t,e.disabledisclosure="2"===t),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(1),console.log(n.t0),e.loading=!1;case 12:case"end":return n.stop()}}),n,null,[[1,8]])})))()},actions:function(t){var e=this;return Object(A.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.loading=!0,n.prev=1,n.next=4,e.$axios.post("/app/main/addcomment/"+e.title+"/"+t,e.comment);case 4:(r=n.sent).data.error||(e.loading=!1,e.report=r.data.report,e.timeline=r.data.timeline,e.weakness=e.weaknesses[r.data.report.weakness].name),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(1),console.log(n.t0),e.loading=!1;case 12:case"end":return n.stop()}}),n,null,[[1,8]])})))()},thank:function(){var t=this;return Object(A.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,t.$axios.post("/app/main/addcomment/"+t.title+"/5",t.thanks);case 4:(n=e.sent).data.error||(t.loading=!1,t.thanksopen=!1,t.thanks={thanks:1,description:""},t.report=n.data.report,t.timeline=n.data.timeline,t.weakness=t.weaknesses[n.data.report.weakness].name),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),t.loading=!1;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))()},bount:function(){var t=this;return Object(A.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,t.$axios.post("/app/user/paybounty/"+t.title,t.bounty);case 4:(n=e.sent).data.error||(console.log(n.data),t.loading=!1,t.bountyopen=!1,new Razorpay(n.data).open()),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),t.loading=!1;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))()},onScroll:function(t){var e=t.target,n=e.scrollTop;n+e.clientHeight>=e.scrollHeight-10?this.bottom=!1:0===n&&(this.bottom=!0)}}}),j=(n(646),n(647),n(162)),component=Object(j.a)(D,(function(){var t=this,e=t._self._c;return e("span",[e(c.a,{ref:"messagesContainer",staticStyle:{"overflow-y":"scroll"},attrs:{id:"report-main",loading:t.loading,"max-height":"80vh"},on:{scroll:t.onScroll}},[e(o.a,{staticClass:"mb-7 mr-4",attrs:{elevation:"2",fab:"",fixed:"",bottom:"",right:"",small:"",color:"primary"},on:{click:t.scrollToEnd}},[t.bottom?e(_.a,[t._v("mdi-chevron-down")]):e(_.a,[t._v("mdi-chevron-up")])],1),t._v(" "),e(l.d,{staticClass:"d-flex justify-space-between"},[e("span",[t.title?e(o.a,{staticClass:"hover-trans2",attrs:{icon:"",to:"/inbox"}},[e(_.a,[t._v("mdi-chevron-left")])],1):t._e(),t._v(" "),t.report.title?e("span",[t._v(t._s(t.report.title)+" ")]):e("span",[t._v("Report #"+t._s(t.title)+" ")]),t._v(" "),e("span",{class:"rounded-circle ml-3 mr-1 "+t.classes[t.report.severity],staticStyle:{width:"15px",height:"15px"}}),e("span",{staticClass:"text-uppercase subtitle-2"})],1),t._v(" "),t.$auth.user.is_staff||t.$auth.user.is_company?e(w.a,{attrs:{bottom:"","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on,c=n.attrs;return[e(o.a,t._g(t._b({attrs:{rounded:"",icon:""}},"v-btn",c,!1),r),[e(_.a,[t._v("mdi-dots-vertical")])],1)]}}])},[t._v(" "),e(f.a,[t.report.disclosure?e(k.a,{key:3,attrs:{dense:""},on:{click:function(e){return t.actions("4")}}},[e(y.d,[t._v("Hide Report")])],1):e(k.a,{key:1,attrs:{dense:""},on:{click:function(e){return t.actions("2")}}},[e(y.d,[t._v("Public Disclosure")])],1),t._v(" "),e(k.a,{key:2,attrs:{dense:""},on:{click:function(e){return t.actions("3")}}},[e(y.d,[t._v("Change Status")])],1),t._v(" "),e(k.a,{key:4,attrs:{dense:""},on:{click:function(e){t.thanksopen=!0}}},[e(y.d,[t._v("Give Thanks")])],1),t._v(" "),e(k.a,{key:5,attrs:{dense:""},on:{click:function(e){t.bountyopen=!0}}},[e(y.d,[t._v("Pay Bounty")])],1)],1)],1):e(w.a,{attrs:{bottom:"","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on,c=n.attrs;return[e(o.a,t._g(t._b({attrs:{rounded:"",icon:""}},"v-btn",c,!1),r),[e(_.a,[t._v("mdi-dots-vertical")])],1)]}}],null,!1,1374073987)},[t._v(" "),e(f.a,[e(k.a,{key:1,attrs:{dense:"",disabled:t.disabledisclosure},on:{click:function(e){return t.request("2")}}},[e(y.d,[t._v("Request Disclosure")])],1),t._v(" "),e(k.a,{key:2,attrs:{dense:"",disabled:t.disablestatus},on:{click:function(e){return t.request("3")}}},[e(y.d,[t._v("Request Status Change")])],1)],1)],1)],1),t._v(" "),e(l.c,{staticStyle:{"max-height":"100%","overflow-y":"scroll"}},[e("div",{staticClass:"pt-2"},[e("h4",{staticClass:"mt-2"},[t._v("Description")]),t._v(" "),e("markdown",{attrs:{text:t.report.description}}),t._v(" "),e("h4",{staticClass:"mt-2"},[t._v("Impact")]),t._v(" "),e("markdown",{attrs:{text:t.report.impact}}),t._v(" "),e("h4",{staticClass:"mt-2"},[t._v("Weakness")]),t._v(" "),e("div",[e("span",{staticStyle:{color:"red"}},[t._v(t._s(t.weakness))]),t._v(" at \n                            "),t.report.asset?e("span",[t._v(t._s(t.report.asset.type)+" | "+t._s(t.report.asset.domain))]):t._e()])],1),t._v(" "),e(m.a,{staticClass:"my-3"})],1),t._v(" "),e(l.c,[e(R.a,{attrs:{"align-top":"",dense:""}},[t.$auth.user.is_staff||t.$auth.user.is_staff?e(S.a,{staticClass:"mt-n5 mb-5",attrs:{small:""},scopedSlots:t._u([{key:"icon",fn:function(){return[e(r.a,{attrs:{size:"35",color:"black"}},[t.report.photo?e(h.a,{attrs:{src:t.$axios.defaults.baseURL+t.report.photo}}):e(_.a,{staticClass:"rounded-circle",attrs:{size:"50"}},[t._v(" mdi-account-circle ")])],1)]},proxy:!0}])},[t._v(" "),e("div",[e("div",{staticClass:"font-weight-normal"},[e("nuxt-link",{attrs:{to:"/u/?".concat(t.report.user?t.report.user.username:"#")}},[t._v(t._s(t.report.user?t.report.user.name:"User"))]),t._v(" "),e("span",[t._v("\n                            added a report\n                        ")])],1)])]):e(S.a,{staticClass:"mt-n5 mb-5",attrs:{small:""},scopedSlots:t._u([{key:"icon",fn:function(){return[e(r.a,{attrs:{size:"35",color:"black"}},[t.$auth.user.photo?e(h.a,{attrs:{src:t.$auth.user.photo}}):e(_.a,{staticClass:"rounded-circle",attrs:{size:"50"}},[t._v(" mdi-account-circle ")])],1)]},proxy:!0}],null,!1,3043184734)},[t._v(" "),e("div",[e("div",{staticClass:"font-weight-normal"},[e("nuxt-link",{attrs:{to:"/u/?".concat(t.$auth.user.username)}},[t._v(t._s(t.$auth.user.name||"You"))]),t._v(" "),e("span",[t._v("\n                            added a report\n                        ")])],1)])]),t._v(" "),t._l(t.timeline,(function(n,o){return e(S.a,{key:o,staticClass:"mt-5",attrs:{small:""},scopedSlots:t._u([{key:"icon",fn:function(){return[e(r.a,{attrs:{size:"35",color:"black"}},[n.posted_by.photo?e(h.a,{attrs:{src:n.posted_by.photo}}):e(_.a,{staticClass:"rounded-circle",attrs:{size:"50"}},[t._v(" mdi-account-circle ")])],1)]},proxy:!0}],null,!0)},[t._v(" "),e("div",[n.request?e("div",{staticClass:"font-weight-normal"},[e("nuxt-link",{attrs:{to:"/u/?".concat(n.posted_by.username)}},[t._v(t._s(n.posted_by.name))]),t._v(" "),"B"==n.type?e("span",[t._v("\n                        added a comment\n                    ")]):"D"==n.type?e("span",[t._v("\n                        requested for Public Disclosure\n                    ")]):"A"==n.type?e("span",[t._v("\n                        requested for Status Change\n                    ")]):e("span",[t._v("\n                        commented\n                    ")])],1):e("div",{staticClass:"font-weight-normal"},[e("nuxt-link",{attrs:{to:"/u/?".concat(n.posted_by.username)}},[t._v(t._s(n.posted_by.name))]),t._v(" "),"B"==n.type?e("span",[t._v("\n                        added a comment\n                    ")]):"D"==n.type?e("span",[t._v("\n                        made this Report Public\n                    ")]):"D2"==n.type?e("span",[t._v("\n                        made this Report Hidden\n                    ")]):"A"==n.type?e("span",[t._v("\n                        changed the Status to "+t._s(t.report.status)+"\n                    ")]):"T"==n.type?e("span",[t._v("\n                        gave Thanks of "+t._s(n.body)+"\n                    ")]):"Ri"==n.type?e("span",[t._v("\n                        initiated Bounty of ₹"+t._s(n.body)+"\n                    ")]):"Rs"==n.type?e("span",[t._v("\n                        paid Bounty of ₹"+t._s(n.body)+"\n                    ")]):"Rc"==n.type?e("span",[t._v("\n                        faced payment error of ₹"+t._s(n.body)+"\n                    ")]):e("span",[t._v("\n                        commented\n                    ")])],1),t._v(" "),"B"==n.type?e("div",[e("markdown",{attrs:{text:n.body}})],1):t._e()])])})),t._v(" "),t.$auth.user.is_staff||t.$auth.user.is_staff?t._e():e(S.a,{staticClass:"mt-5 pb-0 mb-5",attrs:{small:""},scopedSlots:t._u([{key:"icon",fn:function(){return[e(r.a,{attrs:{size:"35",color:"black"}},[t.$auth.user.photo?e(h.a,{attrs:{src:t.$auth.user.photo}}):e(_.a,{staticClass:"rounded-circle",attrs:{size:"50"}},[t._v(" mdi-account-circle ")])],1)]},proxy:!0}],null,!1,3043184734)},[t._v(" "),e("div",[e("div",{staticClass:"font-weight-normal"},[t._v("\n                        Current\n                    ")])])])],2),t._v(" "),e("form",{staticClass:"mt-7",on:{submit:function(e){return e.preventDefault(),t.addcomment.apply(null,arguments)}}},[e(o.a,{attrs:{text:""},on:{click:function(e){t.prev=!0}}},[t._v("Preview")]),t._v(" "),e($.a,{attrs:{placeholder:"Add a Comment*","auto-grow":"",outlined:"",hint:"Cyber3ra Markdown",required:""},model:{value:t.comment.body,callback:function(e){t.$set(t.comment,"body",e)},expression:"comment.body"}}),t._v(" "),e(o.a,{attrs:{type:"submit",color:"primary"}},[t._v("Post")])],1)],1)],1),t._v(" "),e(c.a,{staticClass:"mt-3 d-none"},[e(l.d,{attrs:{id:"about"}},[t._v("\n        Comment\n    ")])],1),t._v(" "),e(v.a,{attrs:{width:"350"},model:{value:t.thanksopen,callback:function(e){t.thanksopen=e},expression:"thanksopen"}},[e("form",{attrs:{disabled:t.thanks.thanks>50||t.thanks.thanks<1||t.loading},on:{submit:function(e){return e.preventDefault(),t.thank.apply(null,arguments)}}},[e(c.a,[e(l.d,[t._v("\n                Give Thanks\n            ")]),t._v(" "),e(l.c,{staticClass:"py-4"},[e(C.a,{attrs:{outlined:"",label:"Points",type:"number","append-outer-icon":"mdi-plus","prepend-icon":"mdi-minus"},on:{"click:append-outer":function(e){t.thanks.thanks+=1},"click:prepend":function(e){t.thanks.thanks-=1}},scopedSlots:t._u([{key:"append-outer",fn:function(n){var r=n.on,c=n.attrs;return[e(o.a,t._g(t._b({attrs:{disabled:t.thanks.thanks>=50,icon:""},on:{click:function(e){t.thanks.thanks+=1}}},"v-btn",c,!1),r),[e(_.a,[t._v("mdi-plus")])],1)]}},{key:"prepend",fn:function(n){var r=n.on,c=n.attrs;return[e(o.a,t._g(t._b({attrs:{disabled:t.thanks.thanks<=1,icon:""},on:{click:function(e){t.thanks.thanks-=1}}},"v-btn",c,!1),r),[e(_.a,[t._v("mdi-minus")])],1)]}}]),model:{value:t.thanks.thanks,callback:function(e){t.$set(t.thanks,"thanks",e)},expression:"thanks.thanks"}}),t._v(" "),t.thanks.thanks>50||t.thanks.thanks<1?e("p",{staticClass:"red--text"},[t._v("Reputation points must be in range of 1 - 50")]):t._e(),t._v(" "),e(C.a,{attrs:{outlined:"",placeholder:"Description"},model:{value:t.thanks.description,callback:function(e){t.$set(t.thanks,"description",e)},expression:"thanks.description"}}),t._v(" "),e("div",[e(x.a),t._v(" "),e(o.a,{attrs:{color:"primary",type:"submit"}},[t._v("Go")]),t._v(" "),e(x.a)],1)],1)],1)],1)]),t._v(" "),e(v.a,{attrs:{width:"350"},model:{value:t.bountyopen,callback:function(e){t.bountyopen=e},expression:"bountyopen"}},[e("form",{attrs:{disabled:t.loading},on:{submit:function(e){return e.preventDefault(),t.bount.apply(null,arguments)}}},[e(c.a,[e(l.d,[t._v("\n                Pay Bounty\n            ")]),t._v(" "),e(l.c,{staticClass:"py-4"},[e("p",{staticClass:"red--textc"},[t._v("Current Severity: "+t._s(t.report.severity))]),t._v(" "),t._l(t.bounty.range,(function(n,i){return e(d.a,{key:i,staticClass:"mr-2 mb-2",attrs:{color:n==t.bounty.amount?t.classes[i]:"",outlined:n!=t.bounty.amount},on:{click:function(e){t.bounty.amount=n}}},[t._v("₹ "+t._s(n))])})),t._v(" "),e("p",{staticClass:"red--text"},[t._v("You can add your Custom Bounty Amount here")]),t._v(" "),e(C.a,{attrs:{prefix:"₹",outlined:"",placeholder:"Amount",type:"number"},model:{value:t.bounty.amount,callback:function(e){t.$set(t.bounty,"amount",e)},expression:"bounty.amount"}}),t._v(" "),e("div",[e(x.a),t._v(" "),e(o.a,{attrs:{color:"primary",type:"submit"}},[t._v("Go")]),t._v(" "),e(x.a)],1)],2)],1)],1)])],1)}),[],!1,null,null,null);e.default=component.exports}}]);