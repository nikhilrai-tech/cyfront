(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{691:function(e,t,r){"use strict";r.r(t);var n=r(111),l=r(101),c=r(81),o=r(353),d=r(246),f=r(110),m=r(572),v=r(591),_=r(499),h=r(352),x=r(247),w=r(164),k=(r(36),r(29)),y=(r(91),{name:"UsersPage",asyncData:function(e){return Object(k.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.store,r=e.$axios,e.app,e.$nuxt,t.prev=1,t.next=4,r.get("/app/accounts/staff");case 4:return n=t.sent,t.abrupt("return",{staff:n.data});case 8:return t.prev=8,t.t0=t.catch(1),console.log(t.t0),t.abrupt("return",{staff:[]});case 12:case"end":return t.stop()}}),t,null,[[1,8]])})))()},data:function(){return{staff:this.staff,locations:this.locations,fulltime:!1,contract:!1,location:"",loading:!1,usering:{name:"",password:"",username:"",email:""},add:"add"in this.$route.query}},head:function(){return{title:"Staffs"}},methods:{addstaff:function(){var e=this;return Object(k.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,e.$axios.post("/app/accounts/staff",e.usering);case 4:t.sent.data.error||(e.usering={name:"",password:"",username:"",email:""},e.loading=!1,e.add=!1,e.$nuxt.refresh()),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0),e.loading=!1;case 12:case"end":return t.stop()}}),t,null,[[1,8]])})))()}}}),C=r(162),component=Object(C.a)(y,(function(){var e=this,t=e._self._c;return t("div",[t(h.a,[t(o.a,{attrs:{cols:"12",align:"right"}},[t(n.a,{attrs:{outlined:"",color:"success",to:"/staff?add"},on:{click:function(t){e.add=!0}}},[t(f.a,{staticClass:"mr-2",attrs:{small:""}},[e._v("mdi-account-plus")]),e._v(" Add Staff")],1)],1)],1),e._v(" "),t(d.a,{attrs:{width:"300"},model:{value:e.add,callback:function(t){e.add=t},expression:"add"}},[t("form",{on:{submit:function(t){return t.preventDefault(),e.addstaff.apply(null,arguments)}}},[t(l.a,{attrs:{loading:e.loading}},[t(c.d,{staticClass:"d-flex justify-space-between"},[e._v("\n          Add Staff\n          "),t(n.a,{attrs:{icon:""},on:{click:function(t){e.add=!1}}},[t(f.a,[e._v("mdi-close")])],1)],1),e._v(" "),t(c.c,[t(h.a,{staticClass:"mt-2"},[t(o.a,{attrs:{cols:"12"}},[t(w.a,{attrs:{outlined:"",placeholder:"Email",type:"email","hide-details":"",required:""},model:{value:e.usering.email,callback:function(t){e.$set(e.usering,"email",t)},expression:"usering.email"}})],1),e._v(" "),t(o.a,{attrs:{cols:"12"}},[t(w.a,{attrs:{outlined:"",placeholder:"Username",type:"username","hide-details":"",required:""},model:{value:e.usering.username,callback:function(t){e.$set(e.usering,"username",t)},expression:"usering.username"}})],1),e._v(" "),t(o.a,{attrs:{cols:"12"}},[t(w.a,{attrs:{outlined:"",placeholder:"Name",type:"name","hide-details":"",required:""},model:{value:e.usering.name,callback:function(t){e.$set(e.usering,"name",t)},expression:"usering.name"}})],1),e._v(" "),t(o.a,{attrs:{cols:"12"}},[t(w.a,{attrs:{outlined:"",placeholder:"Set Password",type:"password","hide-details":"",required:""},model:{value:e.usering.password,callback:function(t){e.$set(e.usering,"password",t)},expression:"usering.password"}})],1)],1)],1),e._v(" "),t(c.a,{staticClass:"justify-center pb-4"},[t(n.a,{attrs:{outlined:"",color:"secondary",type:"submit",disabled:e.loading}},[e._v("Add")])],1)],1)],1)]),e._v(" "),t(h.a,[t(o.a,{staticClass:"text-centerc",attrs:{cols:"12",sm:"12"}},[t(h.a,e._l(e.staff,(function(r,i){return t(o.a,{key:i,staticClass:"text-centerc",attrs:{cols:"12",sm:"3"}},[t(l.a,{attrs:{elevation:"2"}},[t(m.a,{attrs:{"three-line":"",disabled:r.freezed}},[t(v.a,{attrs:{size:"60"}},[r.photo?t("img",{style:r.freezed?"opacity: 0.5;":null,attrs:{src:e.$axios.defaults.baseURL+r.photo,alt:r.name}}):t(f.a,{attrs:{"x-large":"",dark:""}},[e._v(" mdi-account-circle ")])],1),e._v(" "),t(_.b,[t(_.d,{staticClass:"mb-4c"},[e._v(e._s(r.name?r.name:r.username)+" "),r.verified?t(f.a,{staticClass:"ml-1 mt-n1",attrs:{color:"success",small:""}},[e._v("mdi-check-all")]):e._e()],1),e._v(" "),t(_.c,{staticClass:"mb-4c"},[e._v(e._s(r.email))]),e._v(" "),t(_.c,{staticClass:"mb-4c"},[e._v("@"+e._s(r.username))])],1)],1),e._v(" "),r.verified?t(c.a,[t(x.a),e._v(" "),r.freezed?t(n.a,{attrs:{text:"",color:"success"}},[e._v("Unfreeze")]):t(n.a,{attrs:{text:"",color:"error"}},[e._v("Freeze")])],1):t(c.a,[t(x.a),e._v(" "),t("p",{staticClass:"mb-1 error--text"},[e._v("Not verified")])],1)],1)],1)})),1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports}}]);